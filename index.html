<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Media Session Standard</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in Â§N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em 0;
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: normal;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed 1.0.0" name="generator">
<style>
  /* https://github.com/tabatkins/bikeshed/issues/485 */
  .example .self-link { display: none; }
</style>
<style>
table {
  border-collapse: collapse;
  border-left-style: hidden;
  border-right-style: hidden;
  text-align: left;
}
table caption {
  font-weight: bold;
  padding: 3px;
  text-align: left;
}
table td, table th {
  border: 1px solid black;
  padding: 3px;
}
</style>
<style>/* style-md-lists */

            /* This is a weird hack for me not yet following the commonmark spec
               regarding paragraph and lists. */
            [data-md] > :first-child {
                margin-top: 0;
            }
            [data-md] > :last-child {
                margin-bottom: 0;
            }</style>
<style>/* style-selflinks */

            .heading, .issue, .note, .example, li, dt {
                position: relative;
            }
            a.self-link {
                position: absolute;
                top: 0;
                left: calc(-1 * (3.5rem - 26px));
                width: calc(3.5rem - 26px);
                height: 2em;
                text-align: center;
                border: none;
                transition: opacity .2s;
                opacity: .5;
            }
            a.self-link:hover {
                opacity: 1;
            }
            .heading > a.self-link {
                font-size: 83%;
            }
            li > a.self-link {
                left: calc(-1 * (3.5rem - 26px) - 2em);
            }
            dfn > a.self-link {
                top: auto;
                left: auto;
                opacity: 0;
                width: 1.5em;
                height: 1.5em;
                background: gray;
                color: white;
                font-style: normal;
                transition: opacity .2s, background-color .2s, color .2s;
            }
            dfn:hover > a.self-link {
                opacity: 1;
            }
            dfn > a.self-link:hover {
                color: black;
            }

            a.self-link::before            { content: "Â¶"; }
            .heading > a.self-link::before { content: "Â§"; }
            dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

            body {
                counter-reset: example figure issue;
            }
            .issue {
                counter-increment: issue;
            }
            .issue:not(.no-marker)::before {
                content: "Issue " counter(issue);
            }

            .example {
                counter-increment: example;
            }
            .example:not(.no-marker)::before {
                content: "Example " counter(example);
            }
            .invalid.example:not(.no-marker)::before,
            .illegal.example:not(.no-marker)::before {
                content: "Invalid Example" counter(example);
            }

            figcaption {
                counter-increment: figure;
            }
            figcaption:not(.no-marker)::before {
                content: "Figure " counter(figure) " ";
            }</style>
<style>/* style-autolinks */

            .css.css, .property.property, .descriptor.descriptor {
                color: #005a9c;
                font-size: inherit;
                font-family: inherit;
            }
            .css::before, .property::before, .descriptor::before {
                content: "â";
            }
            .css::after, .property::after, .descriptor::after {
                content: "â";
            }
            .property, .descriptor {
                /* Don't wrap property and descriptor names */
                white-space: nowrap;
            }
            .type { /* CSS value <type> */
                font-style: italic;
            }
            pre .property::before, pre .property::after {
                content: "";
            }
            [data-link-type="property"]::before,
            [data-link-type="propdesc"]::before,
            [data-link-type="descriptor"]::before,
            [data-link-type="value"]::before,
            [data-link-type="function"]::before,
            [data-link-type="at-rule"]::before,
            [data-link-type="selector"]::before,
            [data-link-type="maybe"]::before {
                content: "â";
            }
            [data-link-type="property"]::after,
            [data-link-type="propdesc"]::after,
            [data-link-type="descriptor"]::after,
            [data-link-type="value"]::after,
            [data-link-type="function"]::after,
            [data-link-type="at-rule"]::after,
            [data-link-type="selector"]::after,
            [data-link-type="maybe"]::after {
                content: "â";
            }

            [data-link-type].production::before,
            [data-link-type].production::after,
            .prod [data-link-type]::before,
            .prod [data-link-type]::after {
                content: "";
            }

            [data-link-type=element],
            [data-link-type=element-attr] {
                font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
                font-size: .9em;
            }
            [data-link-type=element]::before { content: "<" }
            [data-link-type=element]::after  { content: ">" }

            [data-link-type=biblio] {
                white-space: pre;
            }</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
        .highlight:not(.idl) { background: hsl(24, 20%, 95%); }
        code.highlight { padding: .1em; border-radius: .3em; }
        pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
        .highlight .c { color: #708090 } /* Comment */
        .highlight .k { color: #990055 } /* Keyword */
        .highlight .l { color: #000000 } /* Literal */
        .highlight .n { color: #0077aa } /* Name */
        .highlight .o { color: #999999 } /* Operator */
        .highlight .p { color: #999999 } /* Punctuation */
        .highlight .cm { color: #708090 } /* Comment.Multiline */
        .highlight .cp { color: #708090 } /* Comment.Preproc */
        .highlight .c1 { color: #708090 } /* Comment.Single */
        .highlight .cs { color: #708090 } /* Comment.Special */
        .highlight .kc { color: #990055 } /* Keyword.Constant */
        .highlight .kd { color: #990055 } /* Keyword.Declaration */
        .highlight .kn { color: #990055 } /* Keyword.Namespace */
        .highlight .kp { color: #990055 } /* Keyword.Pseudo */
        .highlight .kr { color: #990055 } /* Keyword.Reserved */
        .highlight .kt { color: #990055 } /* Keyword.Type */
        .highlight .ld { color: #000000 } /* Literal.Date */
        .highlight .m { color: #000000 } /* Literal.Number */
        .highlight .s { color: #a67f59 } /* Literal.String */
        .highlight .na { color: #0077aa } /* Name.Attribute */
        .highlight .nc { color: #0077aa } /* Name.Class */
        .highlight .no { color: #0077aa } /* Name.Constant */
        .highlight .nd { color: #0077aa } /* Name.Decorator */
        .highlight .ni { color: #0077aa } /* Name.Entity */
        .highlight .ne { color: #0077aa } /* Name.Exception */
        .highlight .nf { color: #0077aa } /* Name.Function */
        .highlight .nl { color: #0077aa } /* Name.Label */
        .highlight .nn { color: #0077aa } /* Name.Namespace */
        .highlight .py { color: #0077aa } /* Name.Property */
        .highlight .nt { color: #669900 } /* Name.Tag */
        .highlight .nv { color: #222222 } /* Name.Variable */
        .highlight .ow { color: #999999 } /* Operator.Word */
        .highlight .mb { color: #000000 } /* Literal.Number.Bin */
        .highlight .mf { color: #000000 } /* Literal.Number.Float */
        .highlight .mh { color: #000000 } /* Literal.Number.Hex */
        .highlight .mi { color: #000000 } /* Literal.Number.Integer */
        .highlight .mo { color: #000000 } /* Literal.Number.Oct */
        .highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
        .highlight .sc { color: #a67f59 } /* Literal.String.Char */
        .highlight .sd { color: #a67f59 } /* Literal.String.Doc */
        .highlight .s2 { color: #a67f59 } /* Literal.String.Double */
        .highlight .se { color: #a67f59 } /* Literal.String.Escape */
        .highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
        .highlight .si { color: #a67f59 } /* Literal.String.Interpol */
        .highlight .sx { color: #a67f59 } /* Literal.String.Other */
        .highlight .sr { color: #a67f59 } /* Literal.String.Regex */
        .highlight .s1 { color: #a67f59 } /* Literal.String.Single */
        .highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
        .highlight .vc { color: #0077aa } /* Name.Variable.Class */
        .highlight .vg { color: #0077aa } /* Name.Variable.Global */
        .highlight .vi { color: #0077aa } /* Name.Variable.Instance */
        .highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
        </style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">Media Session Standard</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editorâs Draft, <time class="dt-updated" datetime="2016-10-17">17 October 2016</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/mediasession">https://wicg.github.io/mediasession</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:mlamouri@google.com">Mounir Lamouri</a> (<span class="p-org org">Google Inc.</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:zqzhang@google.com">Zhiqiang Zhang</a> (<span class="p-org org">Google Inc.</span>)
     <dt>Participate:
     <dd><span><a href="https://github.com/WICG/mediasession/issues/new">File an issue</a> (<a href="https://github.com/WICG/mediasession/issues?state=open">open issues</a>)</span>
     <dt>Version History:
     <dd><span><a href="https://github.com/WICG/mediasession/commits">https://github.com/WICG/mediasession/commits</a></span>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> Â© 2015 the Contributors to the Media Session Standard Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  <div class="p-summary" data-fill-with="abstract">
   <p>This specification enables web developers to obtain different levels

of platform media focus, customize available platform media controls,
and access platform media keys such as hardware keys found on
keyboards, headsets, remote controls, and software keys found in
notification areas and on lock screens of mobile devices.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
    <li><a href="#dependencies"><span class="secno">3</span> <span class="content">Dependencies</span></a>
    <li><a href="#the-mediasession-interface"><span class="secno">4</span> <span class="content">The <code class="idl"><span>MediaSession</span></code> interface</span></a>
    <li><a href="#the-mediametadata-interface"><span class="secno">5</span> <span class="content">The <code class="idl"><span>MediaMetadata</span></code> interface</span></a>
    <li><a href="#the-mediaimage-interface"><span class="secno">6</span> <span class="content">The <code class="idl"><span>MediaImage</span></code> interface</span></a>
    <li><a href="#media-controls"><span class="secno">7</span> <span class="content">Media Controls</span></a>
    <li><a href="#processing-model"><span class="secno">8</span> <span class="content">Processing model</span></a>
    <li><a href="#examples"><span class="secno">9</span> <span class="content">Examples</span></a>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
<script async="" src="https://resources.whatwg.org/file-issue.js"></script>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>Media is used extensively today, and the Web is one of the primary means of
consuming media content. Many platforms can display media metadata, such as
title, artist, album and album art on various UI elements such as notification,
media control center, device lockscreen and wearable devices. This specification
aims to enable web pages to specify the media metadata to be displayed in
platform UI, and respond to media controls which may come from platform UI or
media buttons, therefore improves the user experience.</p>
   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p>All diagrams, examples, and notes in this specification are non-normative, as
are all sections explicitly marked non-normative. Everything else in this
specification is normative.</p>
   <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in RFC 2119. For readability, these
words do not appear in all uppercase letters in this specification. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>
   <p>Requirements phrased in the imperative as part of algorithms (such as "strip any
leading space characters" or "return false and terminate these steps") are to be
interpreted with the meaning of the key word ("must", "should", "may", etc) used
in introducing the algorithm.</p>
   <p>Conformance requirements phrased as algorithms or specific steps may be
implemented in any manner, so long as the end result is equivalent. (In
particular, the algorithms defined in this specification are intended to be easy
to follow, and not intended to be performant.)</p>
   <p>User agents may impose implementation-specific limits on otherwise unconstrained
inputs, e.g. to prevent denial of service attacks, to guard against running out
of memory, or to work around platform-specific limitations.</p>
   <p>When a method or an attribute is said to call another method or attribute, the
user agent must invoke its internal API for that attribute or method so that
e.g. the author canât change the behavior by overriding attributes or methods
with custom properties or functions in JavaScript.</p>
   <p>Unless otherwise stated, string comparisons are done in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#case-sensitivity-and-string-comparison">case-sensitive</a> manner.</p>
   <h2 class="heading settled" data-level="3" id="dependencies"><span class="secno">3. </span><span class="content">Dependencies</span><a class="self-link" href="#dependencies"></a></h2>
   <p>The IDL fragments in this specification must be interpreted as required for
conforming IDL fragments, as described in the Web IDL specification. <a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a></p>
   <h2 class="heading settled" data-level="4" id="the-mediasession-interface"><span class="secno">4. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-1">MediaSession</a></code> interface</span><a class="self-link" href="#the-mediasession-interface"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(<span class="n">Window</span>)]
<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#mediasession" id="ref-for-mediasession-2">MediaSession</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="MediaSession" href="#dom-navigator-mediasession" id="ref-for-dom-navigator-mediasession-1">mediaSession</a>;
};

[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="mediasession">MediaSession</dfn> : <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#mediametadata" id="ref-for-mediametadata-1">MediaMetadata</a>? <a class="nv idl-code" data-link-type="attribute" data-type="MediaMetadata?" href="#dom-mediasession-metadata" id="ref-for-dom-mediasession-metadata-1">metadata</a>;

  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-mediasession-onplay">onplay</dfn>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-mediasession-onpause">onpause</dfn>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-mediasession-onplaypause">onplaypause</dfn>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-mediasession-onprevioustrack">onprevioustrack</dfn>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-mediasession-onnexttrack">onnexttrack</dfn>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-mediasession-onseekforward">onseekforward</dfn>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-mediasession-onseekbackward">onseekbackward</dfn>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="attribute" data-export="" id="dom-navigator-mediasession"><code>mediaSession</code></dfn> attribute is
to retrive an instance of the <code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-3">MediaSession</a></code> interface. The attribute MUST
return the <code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-4">MediaSession</a></code> instance associated with the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a></code> object.</p>
   <p><code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-5">MediaSession</a></code> objects are simply known as <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="media session" data-noexport="" id="media-session">media
sessions</dfn>.</p>
   <p>A <a data-link-type="dfn" href="#media-session" id="ref-for-media-session-1">media session</a> has <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="media session metadata" data-noexport="" id="media-session-metadata">metadata</dfn>,
which is either a <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-2">MediaMetadata</a></code> object or null.</p>
   <dl class="domintro">
    <dt> <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-metadata" id="ref-for-dom-mediasession-metadata-2">metadata</a></code></code> 
    <dd>
      Returns the <a data-link-type="dfn" href="#media-session" id="ref-for-media-session-2">media session</a>âs <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-3">MediaMetadata</a></code> object, if any, or null
    otherwise. 
     <p>Can be set, to a <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-4">MediaMetadata</a></code> object or null.</p>
   </dl>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" id="dom-mediasession-metadata"><code>metadata</code></dfn> attribute, on
getting, must return the <a data-link-type="dfn" href="#media-session" id="ref-for-media-session-3">media session</a>âs <a data-link-type="dfn" href="#media-session-metadata" id="ref-for-media-session-metadata-1">metadata</a>.</p>
   <p>There is a batch of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handlers</a>. They are used for media controls.
Details will be discussed in <a href="#media-controls">Â§7 Media Controls</a>.</p>
   <h2 class="heading settled" data-level="5" id="the-mediametadata-interface"><span class="secno">5. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-5">MediaMetadata</a></code> interface</span><a class="self-link" href="#the-mediametadata-interface"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="constructor" href="#dom-mediametadata-mediametadata" id="ref-for-dom-mediametadata-mediametadata-1">Constructor</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-mediametadatainit" id="ref-for-dictdef-mediametadatainit-1">MediaMetadataInit</a> <dfn class="nv idl-code" data-dfn-for="MediaMetadata/MediaMetadata(init)" data-dfn-type="argument" data-export="" id="dom-mediametadata-mediametadata-init-init">init<a class="self-link" href="#dom-mediametadata-mediametadata-init-init"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="mediametadata">MediaMetadata</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-title" id="ref-for-dom-mediametadata-title-1">title</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-artist" id="ref-for-dom-mediametadata-artist-1">artist</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-album" id="ref-for-dom-mediametadata-album-1">album</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#mediaimage" id="ref-for-mediaimage-1">MediaImage</a>> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<MediaImage>" href="#dom-mediametadata-artwork" id="ref-for-dom-mediametadata-artwork-1">artwork</a>;
};

<span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-mediametadatainit">MediaMetadataInit</dfn> {
  <span class="kt">DOMString</span> <dfn class="nv dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadataInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadatainit-title">title</dfn> = "";
  <span class="kt">DOMString</span> <dfn class="nv dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadataInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadatainit-artist">artist</dfn> = "";
  <span class="kt">DOMString</span> <dfn class="nv dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadataInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadatainit-album">album</dfn> = "";
  <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-mediaimageinit" id="ref-for-dictdef-mediaimageinit-1">MediaImageInit</a>> <dfn class="nv dfn-paneled idl-code" data-default="None" data-dfn-for="MediaMetadataInit" data-dfn-type="dict-member" data-export="" data-type="sequence<MediaImageInit> " id="dom-mediametadatainit-artwork">artwork</dfn> = [];
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-6">MediaMetadata</a></code> object has a <dfn class="dfn-paneled" data-dfn-for="MediaMetadata" data-dfn-type="dfn" data-noexport="" id="mediametadata-title">title</dfn>, an <dfn class="dfn-paneled" data-dfn-for="MediaMetadata" data-dfn-type="dfn" data-noexport="" id="mediametadata-artist">artist</dfn>, an <dfn class="dfn-paneled" data-dfn-for="MediaMetadata" data-dfn-type="dfn" data-noexport="" id="mediametadata-album">album</dfn> and a
FrozenArray of <dfn class="dfn-paneled" data-dfn-for="MediaMetadata" data-dfn-type="dfn" data-lt="artwork images" data-noexport="" id="mediametadata-artwork-images" title="artwork image">artwork
images</dfn>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaMetadata" data-dfn-type="constructor" data-export="" id="dom-mediametadata-mediametadata"><code>MediaMetadata(<var>init</var>)</code></dfn> constructor, when invoked, must run the following steps:</p>
   <ol>
    <li> Let <var>metadata</var> be a new <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-7">MediaMetadata</a></code> object. 
    <li> Set <var>metadata</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-title" id="ref-for-dom-mediametadata-title-2">title</a></code> to <var>init</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediametadatainit-title" id="ref-for-dom-mediametadatainit-title-1">title</a></code>. 
    <li> Set <var>metadata</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-artist" id="ref-for-dom-mediametadata-artist-2">artist</a></code> to <var>init</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediametadatainit-artist" id="ref-for-dom-mediametadatainit-artist-1">artist</a></code>. 
    <li> Set <var>metadata</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-album" id="ref-for-dom-mediametadata-album-2">album</a></code> to <var>init</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediametadatainit-album" id="ref-for-dom-mediametadatainit-album-1">album</a></code>. 
    <li> Set <var>metadata</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-artwork" id="ref-for-dom-mediametadata-artwork-2">artwork</a></code> using <var>init</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediametadatainit-artwork" id="ref-for-dom-mediametadatainit-artwork-1">artwork</a></code> by calling the <a data-link-type="functionish" href="#dom-mediaimage-mediaimage" id="ref-for-dom-mediaimage-mediaimage-1"><code>MediaImage(init)</code></a> constructor. 
    <li> Return <var>metadata</var>. 
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaMetadata" data-dfn-type="attribute" data-export="" id="dom-mediametadata-title"><code>title</code></dfn> attribute must
return the <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-8">MediaMetadata</a></code> objectsâs <a data-link-type="dfn" href="#mediametadata-title" id="ref-for-mediametadata-title-1">title</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaMetadata" data-dfn-type="attribute" data-export="" id="dom-mediametadata-artist"><code>artist</code></dfn> attribute must
return the <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-9">MediaMetadata</a></code> objectsâs <a data-link-type="dfn" href="#mediametadata-artist" id="ref-for-mediametadata-artist-1">artist</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaMetadata" data-dfn-type="attribute" data-export="" id="dom-mediametadata-album"><code>album</code></dfn> attribute must
return the <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-10">MediaMetadata</a></code> objectsâs <a data-link-type="dfn" href="#mediametadata-album" id="ref-for-mediametadata-album-1">album</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaMetadata" data-dfn-type="attribute" data-export="" id="dom-mediametadata-artwork"><code>artwork</code></dfn> attribute must return the <code class="idl"><a data-link-type="idl" href="#mediametadata" id="ref-for-mediametadata-11">MediaMetadata</a></code> objectsâs <a data-link-type="dfn" href="#mediametadata-artwork-images" id="ref-for-mediametadata-artwork-images-1" title="artwork image">artwork images</a>, as a FrozenArray of <code class="idl"><a data-link-type="idl" href="#mediaimage" id="ref-for-mediaimage-2">MediaImage</a></code>s.
The <a class="idl-code" data-link-type="attribute" href="#dom-mediametadata-artwork" id="ref-for-dom-mediametadata-artwork-3">artwork</a> attribute can be empty.</p>
   <h2 class="heading settled" data-level="6" id="the-mediaimage-interface"><span class="secno">6. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediaimage" id="ref-for-mediaimage-3">MediaImage</a></code> interface</span><a class="self-link" href="#the-mediaimage-interface"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="constructor" href="#dom-mediaimage-mediaimage" id="ref-for-dom-mediaimage-mediaimage-2">Constructor</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-mediaimageinit" id="ref-for-dictdef-mediaimageinit-2">MediaImageInit</a> <dfn class="nv idl-code" data-dfn-for="MediaImage/MediaImage(init)" data-dfn-type="argument" data-export="" id="dom-mediaimage-mediaimage-init-init">init<a class="self-link" href="#dom-mediaimage-mediaimage-init-init"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="mediaimage">MediaImage</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">USVString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-mediaimage-src" id="ref-for-dom-mediaimage-src-1">src</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediaimage-sizes" id="ref-for-dom-mediaimage-sizes-1">sizes</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediaimage-type" id="ref-for-dom-mediaimage-type-1">type</a>;
};

<span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-mediaimageinit">MediaImageInit</dfn> {
  <span class="kt">USVString</span> <dfn class="nv dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="MediaImageInit" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-mediaimageinit-src">src</dfn> = "";
  <span class="kt">DOMString</span> <dfn class="nv dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="MediaImageInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediaimageinit-sizes">sizes</dfn> = "";
  <span class="kt">DOMString</span> <dfn class="nv dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="MediaImageInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediaimageinit-type">type</dfn> = "";
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#mediaimage" id="ref-for-mediaimage-4">MediaImage</a></code> object has a <dfn class="dfn-paneled" data-dfn-for="MediaImage" data-dfn-type="dfn" data-noexport="" id="mediaimage-source">source</dfn>, a list of <dfn class="dfn-paneled" data-dfn-for="MediaImage" data-dfn-type="dfn" data-noexport="" id="mediaimage-sizes">sizes</dfn>, and a <dfn class="dfn-paneled" data-dfn-for="MediaImage" data-dfn-type="dfn" data-noexport="" id="mediaimage-type">type</dfn>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaImage" data-dfn-type="constructor" data-export="" id="dom-mediaimage-mediaimage"><code>MediaImage(<var>init</var>)</code></dfn> constructor, when invoked, must run the following steps:</p>
   <ol>
    <li> Let <var>metadata</var> be a new <code class="idl"><a data-link-type="idl" href="#mediaimage" id="ref-for-mediaimage-5">MediaImage</a></code> object. 
    <li> Set <var>metadata</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediaimage-src" id="ref-for-dom-mediaimage-src-2">src</a></code> to <var>init</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediaimageinit-src" id="ref-for-dom-mediaimageinit-src-1">src</a></code>. If the URL is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-relative">relative URL</a>, it must be resolved to an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#document-base-url">document base URL</a>. 
    <li> Set <var>metadata</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediaimage-sizes" id="ref-for-dom-mediaimage-sizes-2">sizes</a></code> to <var>init</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediaimageinit-sizes" id="ref-for-dom-mediaimageinit-sizes-1">sizes</a></code>. 
    <li> Set <var>metadata</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediaimage-type" id="ref-for-dom-mediaimage-type-2">type</a></code> to <var>init</var>âs <code class="idl"><a data-link-type="idl" href="#dom-mediaimageinit-type" id="ref-for-dom-mediaimageinit-type-1">type</a></code>. 
    <li> Return <var>metadata</var>. 
   </ol>
   <p>The MediaImage <a class="idl-code" data-link-type="attribute" href="#dom-mediaimage-src" id="ref-for-dom-mediaimage-src-3">src</a>, <a class="idl-code" data-link-type="attribute" href="#dom-mediaimage-sizes" id="ref-for-dom-mediaimage-sizes-3">sizes</a> and <a class="idl-code" data-link-type="attribute" href="#dom-mediaimage-type" id="ref-for-dom-mediaimage-type-3">type</a> inspired from the <a data-link-type="dfn" href="https://www.w3.org/TR/appmanifest/#dfn-image-object">image objects</a> in Web App Manifest.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaImage" data-dfn-type="attribute" data-export="" id="dom-mediaimage-src">src</dfn> attribute must return the <code class="idl"><a data-link-type="idl" href="#mediaimage" id="ref-for-mediaimage-6">MediaImage</a></code> objectâs <a data-link-type="dfn" href="#mediaimage-source" id="ref-for-mediaimage-source-1">source</a>. It is a URL from which
the user agent can fetch the imageâs data.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaImage" data-dfn-type="attribute" data-export="" id="dom-mediaimage-sizes">sizes</dfn> attribute must return the <code class="idl"><a data-link-type="idl" href="#mediaimage" id="ref-for-mediaimage-7">MediaImage</a></code> objectâs <a data-link-type="dfn" href="#mediaimage-sizes" id="ref-for-mediaimage-sizes-1">sizes</a>. It follows the spec of <a class="idl-code" data-link-type="attribute" href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-sizes"><code>sizes</code></a> attribute in HTML <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element"><code>link</code></a> element, which is a string
consisting of an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#unordered-set-of-unique-space-separated-tokens">unordered set of unique space-separated tokens</a> which are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> that represents the dimensions of an image. Each
keyword is either an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for the string "any",
or a value that consists of two valid non-negative integers that do not have a
leading U+0030 DIGIT ZERO (0) character and that are separated by a single
U+0078 LATIN SMALL LETTER X or U+0058 LATIN CAPITAL LETTER X character. The
keywords represent icon sizes in raw pixels (as opposed to CSS pixels). When
multiple image objects are available, a user agent may use the value to decide
which icon is most suitable for a display context (and ignore any that are
inappropriate). The parsing steps for the <a class="idl-code" data-link-type="attribute" href="#dom-mediaimage-sizes" id="ref-for-dom-mediaimage-sizes-4">sizes</a> attribute must follow <a class="idl-code" data-link-type="attribute" href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-sizes">the parsing steps for HTML <code>link</code> element <code>sizes</code> attribute</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaImage" data-dfn-type="attribute" data-export="" id="dom-mediaimage-type">type</dfn> attribute must return the <code class="idl"><a data-link-type="idl" href="#mediaimage" id="ref-for-mediaimage-8">MediaImage</a></code> objectâs <a data-link-type="dfn" href="#mediaimage-type" id="ref-for-mediaimage-type-1">type</a>. It is a hint as to the
media type of the image. The purpose of this attribute is to allow a user agent
to ignore images of media types it does not support.</p>
   <h2 class="heading settled" data-level="7" id="media-controls"><span class="secno">7. </span><span class="content">Media Controls</span><a class="self-link" href="#media-controls"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>In the <code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-6">MediaSession</a></code> interface, there are a bunch of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handlers</a> which are used for media controls. They enable the page to listen to <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-1">media control actions</a> from hardware or software
media interfaces on the platform. A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="media-control-action">media control action</dfn> is a user
command to perform media-related actions, such as play/pause media playback and
switching media tracks. <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-2">Media control actions</a> MAY come from various hardware and software interfaces on the platform,
including keyboard media keys, headphone buttons, remote controller buttons or
notification and lock screen media buttons.</p>
   <p>For each <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-3">media control action</a>, there is a corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler">event
handler</a> called a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="media-control-event-handler">media control event handler</dfn>.</p>
   <p>The <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-1">media control event handler</a> allows a page to register callbacks when
the action is fired. On set, the page declares it supports the corresponding <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-4">media control action</a>, and the user agent could display a button for the
action on platform UI and/or register listeners for the action to the platform,
and forward the corresponding <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-5">media control action</a> to the <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-2">media
control event handler</a> when the it is received.</p>
   <p>The list of <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-6">media control actions</a> is as
follows:</p>
   <table>
    <tbody>
     <tr>
      <th> Action name 
      <th> Interface 
      <th> Attribute 
      <th> Fired when... 
     <tr>
      <td> <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="event play" data-noexport="" id="event-play"><code>play</code></dfn> 
      <td> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code> 
      <td> <code class="idl"><a data-link-type="idl" href="#dom-mediasession-onplay" id="ref-for-dom-mediasession-onplay-1">onplay</a></code> 
      <td> The user presses the "play" media key or button on any hardware or
      software media interface. 
     <tr>
      <td> <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="event pause" data-noexport="" id="event-pause"><code>pause</code></dfn> 
      <td> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code> 
      <td> <code class="idl"><a data-link-type="idl" href="#dom-mediasession-onpause" id="ref-for-dom-mediasession-onpause-1">onpause</a></code> 
      <td> The user presses the "pause" media key or button on any hardware or
      software media interface. 
     <tr>
      <td> <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="event playpause" data-noexport="" id="event-playpause"><code>playpause</code></dfn> 
      <td> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code> 
      <td> <code class="idl"><a data-link-type="idl" href="#dom-mediasession-onplaypause" id="ref-for-dom-mediasession-onplaypause-1">onplaypause</a></code> 
      <td> The user presses the "play/pause" media key or button on any hardware or
      software media interface. 
     <tr>
      <td> <dfn data-dfn-type="dfn" data-lt="event previoustrack" data-noexport="" id="event-previoustrack"><code>previoustrack</code><a class="self-link" href="#event-previoustrack"></a></dfn> 
      <td> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code> 
      <td> <code class="idl"><a data-link-type="idl" href="#dom-mediasession-onprevioustrack" id="ref-for-dom-mediasession-onprevioustrack-1">onprevioustrack</a></code> 
      <td> The user presses the "previous track" media key or button on any hardware
      or software media interface. 
     <tr>
      <td> <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="event nexttrack" data-noexport="" id="event-nexttrack"><code>nexttrack</code></dfn> 
      <td> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code> 
      <td> <code class="idl"><a data-link-type="idl" href="#dom-mediasession-onnexttrack" id="ref-for-dom-mediasession-onnexttrack-1">onnexttrack</a></code> 
      <td> The user presses the "next track" media key or button on any hardware or
      software media interface. 
     <tr>
      <td> <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="event seekforward" data-noexport="" id="event-seekforward"><code>seekforward</code></dfn> 
      <td> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code> 
      <td> <code class="idl"><a data-link-type="idl" href="#dom-mediasession-onseekforward" id="ref-for-dom-mediasession-onseekforward-1">onseekforward</a></code> 
      <td> The user presses the "seek forward" media key or button on any hardware or
      software media interface. 
     <tr>
      <td> <dfn data-dfn-type="dfn" data-lt="event seekbackward" data-noexport="" id="event-seekbackward"><code>seekbackward</code><a class="self-link" href="#event-seekbackward"></a></dfn> 
      <td> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code> 
      <td> <code class="idl"><a data-link-type="idl" href="#dom-mediasession-onseekbackward" id="ref-for-dom-mediasession-onseekbackward-1">onseekbackward</a></code> 
      <td> The user presses the "seek backward" media key or button on any hardware
      or software media interface. 
   </table>
   <p class="issue" id="whether-allow-page-listen-play-pause"><a class="self-link" href="#whether-allow-page-listen-play-pause"></a> It is still an open question whether to allow pages to handle <a data-link-type="dfn" href="#event-play" id="ref-for-event-play-1">play</a>, <a data-link-type="dfn" href="#event-pause" id="ref-for-event-pause-1">pause</a> and <a data-link-type="dfn" href="#event-playpause" id="ref-for-event-playpause-1">playpause</a> actions. The user agent MAY either intercept these
  actions and handle them within the user agent, or forward these actions to the
  page and let the page handle them. See <a href="https://github.com/WICG/mediasession/issues/136">issue on GitHub</a>. </p>
   <h2 class="heading settled" data-level="8" id="processing-model"><span class="secno">8. </span><span class="content">Processing model</span><a class="self-link" href="#processing-model"></a></h2>
   <p>As there is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsers.html#window">Window</a></code> object per <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context">browsing context</a>, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level
browsing context</a> and each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#nested-browsing-context">nested browsing context</a> will have an
associated <code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-7">MediaSession</a></code> object. For each tab, the user agent MUST select the <code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-8">MediaSession</a></code> object of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> to represent
the tab. The selected <code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-9">MediaSession</a></code> object is called <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="tab-level
active media session" data-noexport="" id="tab-level-active-media-session">tab-level active media session</dfn>.</p>
   <p class="issue" id="whether-allow-child-frame-media-session"><a class="self-link" href="#whether-allow-child-frame-media-session"></a> It is still an open question whether an <code class="idl"><a data-link-type="idl" href="#mediasession" id="ref-for-mediasession-10">MediaSession</a></code> object is allowed to
  become the <a data-link-type="dfn" href="#tab-level-active-media-session" id="ref-for-tab-level-active-media-session-1">tab-level active media session</a>. See the <a href="https://github.com/WICG/mediasession/issues/136">issue on GitHub</a>. </p>
   <p>When the user agent has multiple tabs, the user agent MUST select the <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="most meaningful audio-producing tab" data-noexport="" id="most-meaningful-audio-producing-tab">most
meaningful audio-producing tab</dfn>, which is producing the most meaningful
audio to the user. The user agent SHOULD select the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab" id="ref-for-most-meaningful-audio-producing-tab-1">most meaningful
audio-producing tab</a> based on platform conventions and the preferred user
experience. The <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab" id="ref-for-most-meaningful-audio-producing-tab-2">most meaningful audio-producing tab</a> can be null. The <a data-link-type="dfn" href="#tab-level-active-media-session" id="ref-for-tab-level-active-media-session-2">tab-level active media session</a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab" id="ref-for-most-meaningful-audio-producing-tab-3">most meaningful audio-producing
tab</a> is called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="most-meaningful-media-session">most meaningful media session</dfn>.</p>
   <p>The user agent then MUST always route the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-1">most meaningful media session</a> to the platform, which means:</p>
   <ol>
    <li> If possible, the user agent SHOULD present the <a class="idl-code" data-link-type="attribute" href="#dom-mediasession-metadata" id="ref-for-dom-mediasession-metadata-3"><code>metadata</code></a> of the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-2">most meaningful media session</a> to the platform for display
    purpose. This MUST not be done for all other <a data-link-type="dfn" href="#media-session" id="ref-for-media-session-4">media sessions</a>. 
    <li> If possible, the user agent SHOULD register listeners to the platform for
    the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-3">most meaningful media session</a>, display corresponding UI buttons
    if needed, and forward all <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-7">media control
    actions</a> to the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-4">most meaningful media session</a>. This MUST not be
    done for all other <a data-link-type="dfn" href="#media-session" id="ref-for-media-session-5">media sessions</a>. 
   </ol>
   <p>The media metadata for the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab" id="ref-for-most-meaningful-audio-producing-tab-4">most meaningful audio-producing tab</a> MAY be
displayed in the platform UI depending on platform conventions. Whenever the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-5">most meaningful media session</a> changes or setting <a class="idl-code" data-link-type="attribute" href="#dom-mediasession-metadata" id="ref-for-dom-mediasession-metadata-4"><code>metadata</code></a> of the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-6">most meaningful media
session</a>, the user agent MUST run the <dfn data-dfn-type="dfn" data-noexport="" id="update-metadata-algorithm">update metadata algorithm<a class="self-link" href="#update-metadata-algorithm"></a></dfn>.
The steps are as follows:</p>
   <ol>
    <li> If the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab" id="ref-for-most-meaningful-audio-producing-tab-5">most meaningful audio-producing tab</a> is null, unset the media
    metadata presented to the platform, and terminate these steps. 
    <li> If the <a class="idl-code" data-link-type="attribute" href="#dom-mediasession-metadata" id="ref-for-dom-mediasession-metadata-5"><code>metadata</code></a> of the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-7">most meaningful media session</a> is null, unset the media metadata
    presented to the platform, and terminate these steps. 
    <li> Update the media metadata presented to the platform to match the <a class="idl-code" data-link-type="attribute" href="#dom-mediasession-metadata" id="ref-for-dom-mediasession-metadata-6"><code>metadata</code></a> for the <a data-link-type="dfn" href="#tab-level-active-media-session" id="ref-for-tab-level-active-media-session-3">tab-level active media session</a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab" id="ref-for-most-meaningful-audio-producing-tab-6">most meaningful
    audio-producing tab</a>. 
    <li> If the user agent wants to display <a data-link-type="dfn" href="#mediametadata-artwork-images" id="ref-for-mediametadata-artwork-images-2">artwork image</a>, it is recommended
    to run the <a data-link-type="dfn" href="#fetch-image-algorithm" id="ref-for-fetch-image-algorithm-1">fetch image algorithm</a>. 
   </ol>
   <p>The recommended <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="fetch-image-algorithm">fetch image algorithm</dfn> is as follows:</p>
   <ol>
    <li> If there are other <a data-link-type="dfn" href="#fetch-image-algorithm" id="ref-for-fetch-image-algorithm-2">fetch image algorithm</a> running, cancel existing
    algorithm execution instances. 
    <li> If <var>metadata</var>âs <a class="idl-code" data-link-type="attribute" href="#dom-mediametadata-artwork" id="ref-for-dom-mediametadata-artwork-4"><code>artwork</code></a> of the <a data-link-type="dfn" href="#tab-level-active-media-session" id="ref-for-tab-level-active-media-session-4">tab-level active
    media session</a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab" id="ref-for-most-meaningful-audio-producing-tab-7">most meaningful audio-producing tab</a> is
    empty, then terminate these steps. 
    <li> If the platform supports displaying media artwork, select a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="prefered artwork image" data-noexport="" id="prefered-artwork-image">prefered
    artwork image</dfn> from <var>metadata</var>âs <a class="idl-code" data-link-type="attribute" href="#dom-mediametadata-artwork" id="ref-for-dom-mediametadata-artwork-5"><code>artwork</code></a> of the <a data-link-type="dfn" href="#tab-level-active-media-session" id="ref-for-tab-level-active-media-session-5">tab-level active
    media session</a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab" id="ref-for-most-meaningful-audio-producing-tab-8">most meaningful audio-producing tab</a>. 
    <li>
      <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" title="fetch">Fetch</a> the <a data-link-type="dfn" href="#prefered-artwork-image" id="ref-for-prefered-artwork-image-1">prefered artwork image</a>âs <code class="idl"><a data-link-type="idl" href="#dom-mediaimage-src" id="ref-for-dom-mediaimage-src-4">src</a></code>. 
     <p>Then, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
     <ol>
      <li> Wait for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response">response</a>. 
      <li> If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response">response</a>âs <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response">internal response</a>âs <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type">type</a> is <i>default</i>, attempt to decode the
        resource as image. 
      <li> If the image format is supported, use the image as the artwork for
        display in platform UI. Otherwise the <a data-link-type="dfn" href="#fetch-image-algorithm" id="ref-for-fetch-image-algorithm-3">fetch image algorithm</a> fail
        and terminate. 
     </ol>
   </ol>
   <p>If no artwork images are fetched in the <a data-link-type="dfn" href="#fetch-image-algorithm" id="ref-for-fetch-image-algorithm-4">fetch image algorithm</a>, the user
agent MAY have fallback behavior such as displaying an default image as artwork.</p>
   <p>Whenever the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-8">most meaningful media session</a> changes or the <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-3">media
control event handler</a>s of the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-9">most meaningful media session</a> change,
the user agent MUST do the following:</p>
   <ol>
    <li> If the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-10">most meaningful media session</a> is null, unregister all media
    control listeners registered to the platform and remove the related UI
    buttons for the <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-4">media control event handlers</a> if displayed. 
    <li> Update the listeners registered to the platform to match the <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-5">media
    control event handler</a>s registered to the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-11">most meaningful media
    session</a>. 
    <li> If needed, update the UI buttons displayed on the platform UI to match the <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-6">media control event handler</a>s. 
   </ol>
   <p>Please note that a page registering a <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-7">media control event handler</a>s only
shows it supports handling the corresponding <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-8">media control action</a>. It
does not guarantee that the user agent will display a media button UI or
register listeners to the platform for the <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-9">media control action</a>. The user
agent MAY select a subset of the registered <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-8">media control event handler</a>s
to display UI buttons and/or register event listeners to the platform, based on
platform capability and conventions, or based on UI concerns.</p>
   <p>The user agent MAY have some fallback steps to handle some <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-10">media control actions</a>, such as handling <a data-link-type="dfn" href="#event-play" id="ref-for-event-play-2">play</a> in the user agent instead of in the page.</p>
   <p>When the user agent receives a <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-11">media control action</a> from the platform or
the UI, it MUST run the following steps:</p>
   <ol>
    <li> Create an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code> object for the <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-12">media control action</a>. 
    <li> Call the corresponding <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-9">media control event handler</a> of the <a data-link-type="dfn" href="#most-meaningful-media-session" id="ref-for-most-meaningful-media-session-12">most
    meaningful media session</a>. 
    <li> If the user agent has fallback steps to handle the <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-13">media control
    action</a>, check the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-defaultprevented">defaultPrevented</a></code> attribute of the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>.
    If it is false, run the fallback steps. 
   </ol>
   <p class="issue" id="how-to-prevent-fallback-steps"><a class="self-link" href="#how-to-prevent-fallback-steps"></a> It is still an open
question how to opt in/out of the fallback behavior. Checking <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-defaultprevented">defaultPrevented</a></code> only works after the <a data-link-type="dfn" href="#media-control-event-handler" id="ref-for-media-control-event-handler-10">media control event
handler</a> is called, thus the page could have already done some steps. This
might cause the <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-14">media control action</a> be handled both by the page and the
user agent, which will produce wrong behavior for events such as <a data-link-type="dfn" href="#event-nexttrack" id="ref-for-event-nexttrack-1">nexttrack</a> or <a data-link-type="dfn" href="#event-seekforward" id="ref-for-event-seekforward-1">seekforward</a>. See <a href="https://github.com/WICG/mediasession/issues/141">issue on GitHub</a>. </p>
   <h2 class="heading settled" data-level="9" id="examples"><span class="secno">9. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <div class="example" id="example-setting-metadata">
    <a class="self-link" href="#example-setting-metadata"></a> Setting <a data-link-type="dfn" href="#media-session-metadata" id="ref-for-media-session-metadata-2">metadata</a>: 
<pre class="lang-javascript highlight">window<span class="p">.</span>navigator<span class="p">.</span>mediaSession<span class="p">.</span>metadata <span class="o">=</span> <span class="k">new</span> MediaMetadata<span class="p">(</span><span class="p">{</span>
  title<span class="o">:</span> <span class="s2">"Episode Title"</span><span class="p">,</span>
  artist<span class="o">:</span> <span class="s2">"Podcast Host"</span><span class="p">,</span>
  album<span class="o">:</span> <span class="s2">"Podcast Title"</span><span class="p">,</span>
  artwork<span class="o">:</span> <span class="p">[</span><span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast.jpg"</span><span class="p">}</span><span class="p">]</span>
<span class="p">}</span><span class="p">)</span><span class="p">;</span>
</pre>
    <p>Alternatively, providing multiple <a data-link-type="dfn" href="#mediametadata-artwork-images" id="ref-for-mediametadata-artwork-images-3" title="artwork
  image">artwork images</a> in the metadata can let the user agent be able to
  select different artwork images for different display purposes and better fit
  for different screens:</p>
<pre class="lang-javascript highlight">window<span class="p">.</span>navigator<span class="p">.</span>mediaSession<span class="p">.</span>metadata <span class="o">=</span> <span class="k">new</span> MediaMetadata<span class="p">(</span><span class="p">{</span>
  title<span class="o">:</span> <span class="s2">"Episode Title"</span><span class="p">,</span>
  artist<span class="o">:</span> <span class="s2">"Podcast Host"</span><span class="p">,</span>
  album<span class="o">:</span> <span class="s2">"Podcast Title"</span><span class="p">,</span>
  artwork<span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast.jpg"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"128x128"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/jpeg"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast_hd.jpg"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"256x256"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast_xhd.jpg"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"1024x1024"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/jpeg"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast.png"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"128x128"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/png"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast_hd.png"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"256x256"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/png"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast.ico"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"128x128 256x256"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/x-icon"</span><span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span><span class="p">)</span><span class="p">;</span>
</pre>
    <p>For example, if the user agent wants to use an image as icon, it may choose <code>"podcast.jpg"</code> or <code>"podcast.png"</code> for a
  low-pixel-density screen, and <code>"podcast_hd.jpg"</code> or <code>"podcast_hd.png"</code> for a high-pixel-density screen. If the user
  agent want to use an image for lockscreen background, <code>"podcast_xhd.jpg"</code> will be prefered.</p>
   </div>
   <div class="example" id="example-changing-metadata">
    <a class="self-link" href="#example-changing-metadata"></a> Changing <a data-link-type="dfn" href="#media-session-metadata" id="ref-for-media-session-metadata-3">metadata</a>: 
    <p>For playlists or chapters of an audio book, multiple <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a> can
  share a single <a data-link-type="dfn" href="#media-session" id="ref-for-media-session-6">media session</a>.</p>
<pre class="lang-javascript highlight"><span class="kd">var</span> audio1 <span class="o">=</span> document<span class="p">.</span>createElement<span class="p">(</span><span class="s2">"audio"</span><span class="p">)</span><span class="p">;</span>
audio1<span class="p">.</span>src <span class="o">=</span> <span class="s2">"chapter1.mp3"</span><span class="p">;</span>

<span class="kd">var</span> audio2 <span class="o">=</span> document<span class="p">.</span>createElement<span class="p">(</span><span class="s2">"audio"</span><span class="p">)</span><span class="p">;</span>
audio2<span class="p">.</span>src <span class="o">=</span> <span class="s2">"chapter2.mp3"</span><span class="p">;</span>

audio1<span class="p">.</span>play<span class="p">(</span><span class="p">)</span><span class="p">;</span>
audio1<span class="p">.</span>addEventListener<span class="p">(</span><span class="s2">"ended"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  audio2<span class="p">.</span>play<span class="p">(</span><span class="p">)</span><span class="p">;</span>
<span class="p">}</span><span class="p">)</span><span class="p">;</span>
</pre>
    <p>Because the session is shared, the metadata must be updated to reflect what is
  currently playing.</p>
<pre class="lang-javascript highlight"><span class="kd">function</span> updateMetadata<span class="p">(</span>event<span class="p">)</span> <span class="p">{</span>
  window<span class="p">.</span>navigator<span class="p">.</span>mediaSession<span class="p">.</span>metadata <span class="o">=</span> <span class="k">new</span> MediaMetadata<span class="p">(</span><span class="p">{</span>
    title<span class="o">:</span> event<span class="p">.</span>target <span class="o">==</span> audio1 <span class="o">?</span> <span class="s2">"Chapter 1"</span> <span class="o">:</span> <span class="s2">"Chapter 2"</span><span class="p">,</span>
    artist<span class="o">:</span> <span class="s2">"An Author"</span><span class="p">,</span>
    album<span class="o">:</span> <span class="s2">"A Book"</span><span class="p">,</span>
    artwork<span class="o">:</span> <span class="p">[</span><span class="p">{</span>src<span class="o">:</span> <span class="s2">"cover.jpg"</span><span class="p">}</span><span class="p">]</span>
  <span class="p">}</span><span class="p">)</span><span class="p">;</span>
<span class="p">}</span>

audio1<span class="p">.</span>addEventListener<span class="p">(</span><span class="s2">"play"</span><span class="p">,</span> updateMetadata<span class="p">)</span><span class="p">;</span>
audio2<span class="p">.</span>addEventListener<span class="p">(</span><span class="s2">"play"</span><span class="p">,</span> updateMetadata<span class="p">)</span><span class="p">;</span>
</pre>
   </div>
   <div class="example" id="example-media-controls">
    <a class="self-link" href="#example-media-controls"></a> Handling <a data-link-type="dfn" href="#media-control-action" id="ref-for-media-control-action-15">media control actions</a>: 
<pre>var tracks = ["chapter1.mp3", "chapter2.mp3", "chapter3.mp3"];
var trackId = 0;

var audio = document.createElement("audio");
audio.src = tracks[trackId];

void updatePlayingMedia() {
    audio.src = tracks[trackId];
    // Update metadata (omitted)
}

window.navigator.mediaSession.onprevioustrack = function() {
   trackId = (trackId + tracks.length - 1) % tracks.length;
   updatePlayingMedia();
}

window.navigator.mediaSession.onnexttrack = function() {
   trackId = (trackId + 1) % tracks.length;
   updatePlayingMedia();
}

</pre>
   </div>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content">Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>The editor would like to thank Paul Adenot, Jake Archibald, Tab Atkins, Jonathan
Bailey, Marcos Caceres, Domenic Denicola, Ralph Giles, Anne van Kesteren, Tobie
Langel, Michael Mahemoff, Jer Noble, Elliott Sprehn, Chris Wilson, and JÃ¶rn
Zaefferer for their participation in technical discussions that ultimately made
this specification possible.</p>
   <p>Special thanks go to Philip JÃ¤genstedt and David Vest for their help in
designing every aspect of media sessions and for their seemingly infinite
patience in working through the initial design issues; Jer Noble for his help in
building a model that also works well within the iOS audio focus model; and
Mounir Lamouri and Anton Vayvod for their early involvement, feedback and
support in making this specification happen.</p>
   <p>This standard is written by Rich Tibbett (<a href="http://www.opera.com">Opera</a>, <a href="mailto:richt@opera.com">richt@opera.com</a>).</p>
   <p>Per <a href="https://creativecommons.org/publicdomain/zero/1.0/" rel="license">CC0</a>, to the extent
possible under law, the editors have waived all copyright and related or
neighboring rights to this work.</p>
<script id="head" src="https://resources.whatwg.org/dfn.js"></script>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">â</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">â</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">â</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Donât scroll to compensate for the ToC if weâre above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I donât know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldnât exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isnât standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we donât have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While weâre at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Canât find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    album
    <ul>
     <li><a href="#dom-mediametadatainit-album">dict-member for MediaMetadataInit</a><span>, in Â§5</span>
     <li><a href="#mediametadata-album">dfn for MediaMetadata</a><span>, in Â§5</span>
     <li><a href="#dom-mediametadata-album">attribute for MediaMetadata</a><span>, in Â§5</span>
    </ul>
   <li>
    artist
    <ul>
     <li><a href="#dom-mediametadatainit-artist">dict-member for MediaMetadataInit</a><span>, in Â§5</span>
     <li><a href="#mediametadata-artist">dfn for MediaMetadata</a><span>, in Â§5</span>
     <li><a href="#dom-mediametadata-artist">attribute for MediaMetadata</a><span>, in Â§5</span>
    </ul>
   <li>
    artwork
    <ul>
     <li><a href="#dom-mediametadatainit-artwork">dict-member for MediaMetadataInit</a><span>, in Â§5</span>
     <li><a href="#dom-mediametadata-artwork">attribute for MediaMetadata</a><span>, in Â§5</span>
    </ul>
   <li><a href="#mediametadata-artwork-images">artwork images</a><span>, in Â§5</span>
   <li><a href="#event-nexttrack">event nexttrack</a><span>, in Â§7</span>
   <li><a href="#event-pause">event pause</a><span>, in Â§7</span>
   <li><a href="#event-play">event play</a><span>, in Â§7</span>
   <li><a href="#event-playpause">event playpause</a><span>, in Â§7</span>
   <li><a href="#event-previoustrack">event previoustrack</a><span>, in Â§7</span>
   <li><a href="#event-seekbackward">event seekbackward</a><span>, in Â§7</span>
   <li><a href="#event-seekforward">event seekforward</a><span>, in Â§7</span>
   <li><a href="#fetch-image-algorithm">fetch image algorithm</a><span>, in Â§8</span>
   <li><a href="#media-control-action">media control action</a><span>, in Â§7</span>
   <li><a href="#media-control-event-handler">media control event handler</a><span>, in Â§7</span>
   <li><a href="#mediaimage">MediaImage</a><span>, in Â§6</span>
   <li><a href="#dom-mediaimage-mediaimage">MediaImage(init)</a><span>, in Â§6</span>
   <li><a href="#dictdef-mediaimageinit">MediaImageInit</a><span>, in Â§6</span>
   <li><a href="#mediametadata">MediaMetadata</a><span>, in Â§5</span>
   <li><a href="#dom-mediametadata-mediametadata">MediaMetadata(init)</a><span>, in Â§5</span>
   <li><a href="#dictdef-mediametadatainit">MediaMetadataInit</a><span>, in Â§5</span>
   <li><a href="#media-session">media session</a><span>, in Â§4</span>
   <li><a href="#dom-navigator-mediasession">mediaSession</a><span>, in Â§4</span>
   <li><a href="#mediasession">MediaSession</a><span>, in Â§4</span>
   <li><a href="#media-session-metadata">media session metadata</a><span>, in Â§4</span>
   <li><a href="#dom-mediasession-metadata">metadata</a><span>, in Â§4</span>
   <li><a href="#most-meaningful-audio-producing-tab">most meaningful audio-producing tab</a><span>, in Â§8</span>
   <li><a href="#most-meaningful-media-session">most meaningful media session</a><span>, in Â§8</span>
   <li><a href="#dom-mediasession-onnexttrack">onnexttrack</a><span>, in Â§4</span>
   <li><a href="#dom-mediasession-onpause">onpause</a><span>, in Â§4</span>
   <li><a href="#dom-mediasession-onplay">onplay</a><span>, in Â§4</span>
   <li><a href="#dom-mediasession-onplaypause">onplaypause</a><span>, in Â§4</span>
   <li><a href="#dom-mediasession-onprevioustrack">onprevioustrack</a><span>, in Â§4</span>
   <li><a href="#dom-mediasession-onseekbackward">onseekbackward</a><span>, in Â§4</span>
   <li><a href="#dom-mediasession-onseekforward">onseekforward</a><span>, in Â§4</span>
   <li><a href="#prefered-artwork-image">prefered artwork image</a><span>, in Â§8</span>
   <li>
    sizes
    <ul>
     <li><a href="#dom-mediaimageinit-sizes">dict-member for MediaImageInit</a><span>, in Â§6</span>
     <li><a href="#mediaimage-sizes">dfn for MediaImage</a><span>, in Â§6</span>
     <li><a href="#dom-mediaimage-sizes">attribute for MediaImage</a><span>, in Â§6</span>
    </ul>
   <li><a href="#mediaimage-source">source</a><span>, in Â§6</span>
   <li>
    src
    <ul>
     <li><a href="#dom-mediaimageinit-src">dict-member for MediaImageInit</a><span>, in Â§6</span>
     <li><a href="#dom-mediaimage-src">attribute for MediaImage</a><span>, in Â§6</span>
    </ul>
   <li><a href="#tab-level-active-media-session">tab-level active media session</a><span>, in Â§8</span>
   <li>
    title
    <ul>
     <li><a href="#dom-mediametadatainit-title">dict-member for MediaMetadataInit</a><span>, in Â§5</span>
     <li><a href="#mediametadata-title">dfn for MediaMetadata</a><span>, in Â§5</span>
     <li><a href="#dom-mediametadata-title">attribute for MediaMetadata</a><span>, in Â§5</span>
    </ul>
   <li>
    type
    <ul>
     <li><a href="#dom-mediaimageinit-type">dict-member for MediaImageInit</a><span>, in Â§6</span>
     <li><a href="#mediaimage-type">dfn for MediaImage</a><span>, in Â§6</span>
     <li><a href="#dom-mediaimage-type">attribute for MediaImage</a><span>, in Â§6</span>
    </ul>
   <li><a href="#update-metadata-algorithm">update metadata algorithm</a><span>, in Â§8</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[appmanifest]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/appmanifest/#dfn-image-object">image object</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WHATWG-DOM]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#dom-event-defaultprevented">defaultPrevented</a>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><a href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-internal-response">internal response</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response">response</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response-type">response type</a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#window">Window</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#ascii-case-insensitive">ascii case-insensitive</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context">browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#case-sensitivity-and-string-comparison">case-sensitive</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#document-base-url">document base url</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler">event handler</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handlers</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element">link</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#nested-browsing-context">nested browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-sizes">sizes</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#unordered-set-of-unique-space-separated-tokens">unordered set of unique space-separated tokens</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WHATWG-URL]</a> defines the following terms:
    <ul>
     <li><a href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute url</a>
     <li><a href="https://url.spec.whatwg.org/#syntax-url-relative">relative url</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><a href="https://heycam.github.io/webidl/#Exposed">Exposed</a>
     <li><a href="https://heycam.github.io/webidl/#SameObject">SameObject</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WHATWG-DOM]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#interface-event">Event</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-appmanifest">[APPMANIFEST]
   <dd>Marcos Caceres; et al. <a href="https://w3c.github.io/manifest/">Web App Manifest</a>. 12 September 2016. WD. URL: <a href="https://w3c.github.io/manifest/">https://w3c.github.io/manifest/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Ian Hickson. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Cameron McCormack; Boris Zbarsky. <a href="https://heycam.github.io/webidl/">WebIDL Level 1</a>. 15 September 2016. PR. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-whatwg-dom">[WHATWG-DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-whatwg-url">[WHATWG-URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/">URL Standard</a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(<span class="n">Window</span>)]
<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#mediasession">MediaSession</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="MediaSession" href="#dom-navigator-mediasession">mediaSession</a>;
};

[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv" href="#mediasession">MediaSession</a> : <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#mediametadata">MediaMetadata</a>? <a class="nv idl-code" data-link-type="attribute" data-type="MediaMetadata?" href="#dom-mediasession-metadata">metadata</a>;

  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-mediasession-onplay">onplay</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-mediasession-onpause">onpause</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-mediasession-onplaypause">onplaypause</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-mediasession-onprevioustrack">onprevioustrack</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-mediasession-onnexttrack">onnexttrack</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-mediasession-onseekforward">onseekforward</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-mediasession-onseekbackward">onseekbackward</a>;
};

[<a class="nv idl-code" data-link-type="constructor" href="#dom-mediametadata-mediametadata">Constructor</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-mediametadatainit">MediaMetadataInit</a> <a class="nv" href="#dom-mediametadata-mediametadata-init-init">init</a>)]
<span class="kt">interface</span> <a class="nv" href="#mediametadata">MediaMetadata</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-title">title</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-artist">artist</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-album">album</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#mediaimage">MediaImage</a>> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<MediaImage>" href="#dom-mediametadata-artwork">artwork</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-mediametadatainit">MediaMetadataInit</a> {
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadatainit-title">title</a> = "";
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadatainit-artist">artist</a> = "";
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadatainit-album">album</a> = "";
  <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-mediaimageinit">MediaImageInit</a>> <a class="nv" data-default="None" data-type="sequence<MediaImageInit> " href="#dom-mediametadatainit-artwork">artwork</a> = [];
};

[<a class="nv idl-code" data-link-type="constructor" href="#dom-mediaimage-mediaimage">Constructor</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-mediaimageinit">MediaImageInit</a> <a class="nv" href="#dom-mediaimage-mediaimage-init-init">init</a>)]
<span class="kt">interface</span> <a class="nv" href="#mediaimage">MediaImage</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">USVString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-mediaimage-src">src</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediaimage-sizes">sizes</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediaimage-type">type</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-mediaimageinit">MediaImageInit</a> {
  <span class="kt">USVString</span> <a class="nv" data-default="&quot;&quot;" data-type="USVString " href="#dom-mediaimageinit-src">src</a> = "";
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediaimageinit-sizes">sizes</a> = "";
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediaimageinit-type">type</a> = "";
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> It is still an open question whether to allow pages to handle <a data-link-type="dfn" href="#event-play">play</a>, <a data-link-type="dfn" href="#event-pause">pause</a> and <a data-link-type="dfn" href="#event-playpause">playpause</a> actions. The user agent MAY either intercept these
  actions and handle them within the user agent, or forward these actions to the
  page and let the page handle them. See <a href="https://github.com/WICG/mediasession/issues/136">issue on GitHub</a>. <a href="#whether-allow-page-listen-play-pause"> âµ </a></div>
   <div class="issue"> It is still an open question whether an <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object is allowed to
  become the <a data-link-type="dfn" href="#tab-level-active-media-session">tab-level active media session</a>. See the <a href="https://github.com/WICG/mediasession/issues/136">issue on GitHub</a>. <a href="#whether-allow-child-frame-media-session"> âµ </a></div>
   <div class="issue"> It is still an open
question how to opt in/out of the fallback behavior. Checking <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-defaultprevented">defaultPrevented</a></code> only works after the <a data-link-type="dfn" href="#media-control-event-handler">media control event
handler</a> is called, thus the page could have already done some steps. This
might cause the <a data-link-type="dfn" href="#media-control-action">media control action</a> be handled both by the page and the
user agent, which will produce wrong behavior for events such as <a data-link-type="dfn" href="#event-nexttrack">nexttrack</a> or <a data-link-type="dfn" href="#event-seekforward">seekforward</a>. See <a href="https://github.com/WICG/mediasession/issues/141">issue on GitHub</a>. <a href="#how-to-prevent-fallback-steps"> âµ </a></div>
  </div>
  <aside class="dfn-panel" data-for="mediasession">
   <b><a href="#mediasession">#mediasession</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediasession-1">4. The MediaSession interface</a> <a href="#ref-for-mediasession-2">(2)</a> <a href="#ref-for-mediasession-3">(3)</a> <a href="#ref-for-mediasession-4">(4)</a> <a href="#ref-for-mediasession-5">(5)</a>
    <li><a href="#ref-for-mediasession-6">7. Media Controls</a>
    <li><a href="#ref-for-mediasession-7">8. Processing model</a> <a href="#ref-for-mediasession-8">(2)</a> <a href="#ref-for-mediasession-9">(3)</a> <a href="#ref-for-mediasession-10">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediasession-onplay">
   <b><a href="#dom-mediasession-onplay">#dom-mediasession-onplay</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediasession-onplay-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediasession-onpause">
   <b><a href="#dom-mediasession-onpause">#dom-mediasession-onpause</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediasession-onpause-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediasession-onplaypause">
   <b><a href="#dom-mediasession-onplaypause">#dom-mediasession-onplaypause</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediasession-onplaypause-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediasession-onprevioustrack">
   <b><a href="#dom-mediasession-onprevioustrack">#dom-mediasession-onprevioustrack</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediasession-onprevioustrack-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediasession-onnexttrack">
   <b><a href="#dom-mediasession-onnexttrack">#dom-mediasession-onnexttrack</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediasession-onnexttrack-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediasession-onseekforward">
   <b><a href="#dom-mediasession-onseekforward">#dom-mediasession-onseekforward</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediasession-onseekforward-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediasession-onseekbackward">
   <b><a href="#dom-mediasession-onseekbackward">#dom-mediasession-onseekbackward</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediasession-onseekbackward-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigator-mediasession">
   <b><a href="#dom-navigator-mediasession">#dom-navigator-mediasession</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-mediasession-1">4. The MediaSession interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="media-session">
   <b><a href="#media-session">#media-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-media-session-1">4. The MediaSession interface</a> <a href="#ref-for-media-session-2">(2)</a> <a href="#ref-for-media-session-3">(3)</a>
    <li><a href="#ref-for-media-session-4">8. Processing model</a> <a href="#ref-for-media-session-5">(2)</a>
    <li><a href="#ref-for-media-session-6">9. Examples</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="media-session-metadata">
   <b><a href="#media-session-metadata">#media-session-metadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-media-session-metadata-1">4. The MediaSession interface</a>
    <li><a href="#ref-for-media-session-metadata-2">9. Examples</a> <a href="#ref-for-media-session-metadata-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediasession-metadata">
   <b><a href="#dom-mediasession-metadata">#dom-mediasession-metadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediasession-metadata-1">4. The MediaSession interface</a> <a href="#ref-for-dom-mediasession-metadata-2">(2)</a>
    <li><a href="#ref-for-dom-mediasession-metadata-3">8. Processing model</a> <a href="#ref-for-dom-mediasession-metadata-4">(2)</a> <a href="#ref-for-dom-mediasession-metadata-5">(3)</a> <a href="#ref-for-dom-mediasession-metadata-6">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediametadata">
   <b><a href="#mediametadata">#mediametadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediametadata-1">4. The MediaSession interface</a> <a href="#ref-for-mediametadata-2">(2)</a> <a href="#ref-for-mediametadata-3">(3)</a> <a href="#ref-for-mediametadata-4">(4)</a>
    <li><a href="#ref-for-mediametadata-5">5. The MediaMetadata interface</a> <a href="#ref-for-mediametadata-6">(2)</a> <a href="#ref-for-mediametadata-7">(3)</a> <a href="#ref-for-mediametadata-8">(4)</a> <a href="#ref-for-mediametadata-9">(5)</a> <a href="#ref-for-mediametadata-10">(6)</a> <a href="#ref-for-mediametadata-11">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-mediametadatainit">
   <b><a href="#dictdef-mediametadatainit">#dictdef-mediametadatainit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-mediametadatainit-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadatainit-title">
   <b><a href="#dom-mediametadatainit-title">#dom-mediametadatainit-title</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadatainit-title-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadatainit-artist">
   <b><a href="#dom-mediametadatainit-artist">#dom-mediametadatainit-artist</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadatainit-artist-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadatainit-album">
   <b><a href="#dom-mediametadatainit-album">#dom-mediametadatainit-album</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadatainit-album-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadatainit-artwork">
   <b><a href="#dom-mediametadatainit-artwork">#dom-mediametadatainit-artwork</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadatainit-artwork-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediametadata-title">
   <b><a href="#mediametadata-title">#mediametadata-title</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediametadata-title-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediametadata-artist">
   <b><a href="#mediametadata-artist">#mediametadata-artist</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediametadata-artist-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediametadata-album">
   <b><a href="#mediametadata-album">#mediametadata-album</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediametadata-album-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediametadata-artwork-images">
   <b><a href="#mediametadata-artwork-images">#mediametadata-artwork-images</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediametadata-artwork-images-1">5. The MediaMetadata interface</a>
    <li><a href="#ref-for-mediametadata-artwork-images-2">8. Processing model</a>
    <li><a href="#ref-for-mediametadata-artwork-images-3">9. Examples</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadata-mediametadata">
   <b><a href="#dom-mediametadata-mediametadata">#dom-mediametadata-mediametadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadata-mediametadata-1">5. The MediaMetadata interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadata-title">
   <b><a href="#dom-mediametadata-title">#dom-mediametadata-title</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadata-title-1">5. The MediaMetadata interface</a> <a href="#ref-for-dom-mediametadata-title-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadata-artist">
   <b><a href="#dom-mediametadata-artist">#dom-mediametadata-artist</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadata-artist-1">5. The MediaMetadata interface</a> <a href="#ref-for-dom-mediametadata-artist-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadata-album">
   <b><a href="#dom-mediametadata-album">#dom-mediametadata-album</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadata-album-1">5. The MediaMetadata interface</a> <a href="#ref-for-dom-mediametadata-album-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediametadata-artwork">
   <b><a href="#dom-mediametadata-artwork">#dom-mediametadata-artwork</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediametadata-artwork-1">5. The MediaMetadata interface</a> <a href="#ref-for-dom-mediametadata-artwork-2">(2)</a> <a href="#ref-for-dom-mediametadata-artwork-3">(3)</a>
    <li><a href="#ref-for-dom-mediametadata-artwork-4">8. Processing model</a> <a href="#ref-for-dom-mediametadata-artwork-5">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediaimage">
   <b><a href="#mediaimage">#mediaimage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediaimage-1">5. The MediaMetadata interface</a> <a href="#ref-for-mediaimage-2">(2)</a>
    <li><a href="#ref-for-mediaimage-3">6. The MediaImage interface</a> <a href="#ref-for-mediaimage-4">(2)</a> <a href="#ref-for-mediaimage-5">(3)</a> <a href="#ref-for-mediaimage-6">(4)</a> <a href="#ref-for-mediaimage-7">(5)</a> <a href="#ref-for-mediaimage-8">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-mediaimageinit">
   <b><a href="#dictdef-mediaimageinit">#dictdef-mediaimageinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-mediaimageinit-1">5. The MediaMetadata interface</a>
    <li><a href="#ref-for-dictdef-mediaimageinit-2">6. The MediaImage interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediaimageinit-src">
   <b><a href="#dom-mediaimageinit-src">#dom-mediaimageinit-src</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediaimageinit-src-1">6. The MediaImage interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediaimageinit-sizes">
   <b><a href="#dom-mediaimageinit-sizes">#dom-mediaimageinit-sizes</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediaimageinit-sizes-1">6. The MediaImage interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediaimageinit-type">
   <b><a href="#dom-mediaimageinit-type">#dom-mediaimageinit-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediaimageinit-type-1">6. The MediaImage interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediaimage-source">
   <b><a href="#mediaimage-source">#mediaimage-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediaimage-source-1">6. The MediaImage interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediaimage-sizes">
   <b><a href="#mediaimage-sizes">#mediaimage-sizes</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediaimage-sizes-1">6. The MediaImage interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="mediaimage-type">
   <b><a href="#mediaimage-type">#mediaimage-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mediaimage-type-1">6. The MediaImage interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediaimage-mediaimage">
   <b><a href="#dom-mediaimage-mediaimage">#dom-mediaimage-mediaimage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediaimage-mediaimage-1">5. The MediaMetadata interface</a>
    <li><a href="#ref-for-dom-mediaimage-mediaimage-2">6. The MediaImage interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediaimage-src">
   <b><a href="#dom-mediaimage-src">#dom-mediaimage-src</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediaimage-src-1">6. The MediaImage interface</a> <a href="#ref-for-dom-mediaimage-src-2">(2)</a> <a href="#ref-for-dom-mediaimage-src-3">(3)</a>
    <li><a href="#ref-for-dom-mediaimage-src-4">8. Processing model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediaimage-sizes">
   <b><a href="#dom-mediaimage-sizes">#dom-mediaimage-sizes</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediaimage-sizes-1">6. The MediaImage interface</a> <a href="#ref-for-dom-mediaimage-sizes-2">(2)</a> <a href="#ref-for-dom-mediaimage-sizes-3">(3)</a> <a href="#ref-for-dom-mediaimage-sizes-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-mediaimage-type">
   <b><a href="#dom-mediaimage-type">#dom-mediaimage-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediaimage-type-1">6. The MediaImage interface</a> <a href="#ref-for-dom-mediaimage-type-2">(2)</a> <a href="#ref-for-dom-mediaimage-type-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="media-control-action">
   <b><a href="#media-control-action">#media-control-action</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-media-control-action-1">7. Media Controls</a> <a href="#ref-for-media-control-action-2">(2)</a> <a href="#ref-for-media-control-action-3">(3)</a> <a href="#ref-for-media-control-action-4">(4)</a> <a href="#ref-for-media-control-action-5">(5)</a> <a href="#ref-for-media-control-action-6">(6)</a>
    <li><a href="#ref-for-media-control-action-7">8. Processing model</a> <a href="#ref-for-media-control-action-8">(2)</a> <a href="#ref-for-media-control-action-9">(3)</a> <a href="#ref-for-media-control-action-10">(4)</a> <a href="#ref-for-media-control-action-11">(5)</a> <a href="#ref-for-media-control-action-12">(6)</a> <a href="#ref-for-media-control-action-13">(7)</a> <a href="#ref-for-media-control-action-14">(8)</a>
    <li><a href="#ref-for-media-control-action-15">9. Examples</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="media-control-event-handler">
   <b><a href="#media-control-event-handler">#media-control-event-handler</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-media-control-event-handler-1">7. Media Controls</a> <a href="#ref-for-media-control-event-handler-2">(2)</a>
    <li><a href="#ref-for-media-control-event-handler-3">8. Processing model</a> <a href="#ref-for-media-control-event-handler-4">(2)</a> <a href="#ref-for-media-control-event-handler-5">(3)</a> <a href="#ref-for-media-control-event-handler-6">(4)</a> <a href="#ref-for-media-control-event-handler-7">(5)</a> <a href="#ref-for-media-control-event-handler-8">(6)</a> <a href="#ref-for-media-control-event-handler-9">(7)</a> <a href="#ref-for-media-control-event-handler-10">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="event-play">
   <b><a href="#event-play">#event-play</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-play-1">7. Media Controls</a>
    <li><a href="#ref-for-event-play-2">8. Processing model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="event-pause">
   <b><a href="#event-pause">#event-pause</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-pause-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="event-playpause">
   <b><a href="#event-playpause">#event-playpause</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-playpause-1">7. Media Controls</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="event-nexttrack">
   <b><a href="#event-nexttrack">#event-nexttrack</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-nexttrack-1">8. Processing model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="event-seekforward">
   <b><a href="#event-seekforward">#event-seekforward</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-seekforward-1">8. Processing model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="tab-level-active-media-session">
   <b><a href="#tab-level-active-media-session">#tab-level-active-media-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-tab-level-active-media-session-1">8. Processing model</a> <a href="#ref-for-tab-level-active-media-session-2">(2)</a> <a href="#ref-for-tab-level-active-media-session-3">(3)</a> <a href="#ref-for-tab-level-active-media-session-4">(4)</a> <a href="#ref-for-tab-level-active-media-session-5">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="most-meaningful-audio-producing-tab">
   <b><a href="#most-meaningful-audio-producing-tab">#most-meaningful-audio-producing-tab</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-most-meaningful-audio-producing-tab-1">8. Processing model</a> <a href="#ref-for-most-meaningful-audio-producing-tab-2">(2)</a> <a href="#ref-for-most-meaningful-audio-producing-tab-3">(3)</a> <a href="#ref-for-most-meaningful-audio-producing-tab-4">(4)</a> <a href="#ref-for-most-meaningful-audio-producing-tab-5">(5)</a> <a href="#ref-for-most-meaningful-audio-producing-tab-6">(6)</a> <a href="#ref-for-most-meaningful-audio-producing-tab-7">(7)</a> <a href="#ref-for-most-meaningful-audio-producing-tab-8">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="most-meaningful-media-session">
   <b><a href="#most-meaningful-media-session">#most-meaningful-media-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-most-meaningful-media-session-1">8. Processing model</a> <a href="#ref-for-most-meaningful-media-session-2">(2)</a> <a href="#ref-for-most-meaningful-media-session-3">(3)</a> <a href="#ref-for-most-meaningful-media-session-4">(4)</a> <a href="#ref-for-most-meaningful-media-session-5">(5)</a> <a href="#ref-for-most-meaningful-media-session-6">(6)</a> <a href="#ref-for-most-meaningful-media-session-7">(7)</a> <a href="#ref-for-most-meaningful-media-session-8">(8)</a> <a href="#ref-for-most-meaningful-media-session-9">(9)</a> <a href="#ref-for-most-meaningful-media-session-10">(10)</a> <a href="#ref-for-most-meaningful-media-session-11">(11)</a> <a href="#ref-for-most-meaningful-media-session-12">(12)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fetch-image-algorithm">
   <b><a href="#fetch-image-algorithm">#fetch-image-algorithm</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fetch-image-algorithm-1">8. Processing model</a> <a href="#ref-for-fetch-image-algorithm-2">(2)</a> <a href="#ref-for-fetch-image-algorithm-3">(3)</a> <a href="#ref-for-fetch-image-algorithm-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="prefered-artwork-image">
   <b><a href="#prefered-artwork-image">#prefered-artwork-image</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-prefered-artwork-image-1">8. Processing model</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>